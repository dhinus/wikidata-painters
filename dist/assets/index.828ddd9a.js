(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function k(){}function oe(t){return t()}function J(){return Object.create(null)}function D(t){t.forEach(oe)}function ue(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let O;function B(t,e){return O||(O=document.createElement("a")),O.href=e,t===O.href}function ae(t){return Object.keys(t).length===0}function A(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function fe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function C(){return q(" ")}function de(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pe(t){return Array.from(t.childNodes)}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Q(t,e,n){t.classList[n?"add":"remove"](e)}function _e(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}let S;function M(t){S=t}function me(){if(!S)throw new Error("Function called outside component initialization");return S}function ge(){const t=me();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=_e(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const I=[],X=[],T=[],Z=[],he=Promise.resolve();let W=!1;function be(){W||(W=!0,he.then(le))}function U(t){T.push(t)}const x=new Set;let R=0;function le(){const t=S;do{for(;R<I.length;){const e=I[R];R++,M(e),we(e.$$)}for(M(null),I.length=0,R=0;X.length;)X.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];x.has(n)||(x.add(n),n())}T.length=0}while(I.length);for(;Z.length;)Z.pop()();W=!1,x.clear(),M(t)}function we(t){if(t.fragment!==null){t.update(),D(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const j=new Set;let N;function ee(){N={r:0,c:[],p:N}}function te(){N.r||D(N.c),N=N.p}function L(t,e){t&&t.i&&(j.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),N.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function se(t){t&&t.c()}function F(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:p}=t.$$;i&&i.m(e,n),r||U(()=>{const u=o.map(oe).filter(ue);s?s.push(...u):D(u),t.$$.on_mount=[]}),p.forEach(U)}function K(t,e){const n=t.$$;n.fragment!==null&&(D(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ye(t,e){t.$$.dirty[0]===-1&&(I.push(t),be(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,r,i,o,s,p=[-1]){const u=S;M(t);const a=t.$$={fragment:null,ctx:null,props:o,update:k,not_equal:i,bound:J(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:J(),dirty:p,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let w=!1;if(a.ctx=n?n(t,e.props||{},(c,_,...m)=>{const v=m.length?m[0]:_;return a.ctx&&i(a.ctx[c],a.ctx[c]=v)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](v),w&&ye(t,c)),_}):[],a.update(),w=!0,D(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const c=pe(e.target);a.fragment&&a.fragment.l(c),c.forEach(h)}else a.fragment&&a.fragment.c();e.intro&&L(t.$$.fragment),F(t,e.target,e.anchor,e.customElement),le()}M(u)}class Y{$destroy(){K(this,1),this.$destroy=k}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ae(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ve(t){let e,n,r,i;return{c(){e=E("button"),n=q(t[0]),y(e,"class","svelte-n144wh"),Q(e,"right",t[1]==="right"),Q(e,"wrong",t[1]==="wrong")},m(o,s){b(o,e,s),A(e,n),r||(i=de(e,"click",t[2]),r=!0)},p(o,[s]){s&1&&H(n,o[0]),s&2&&Q(e,"right",o[1]==="right"),s&2&&Q(e,"wrong",o[1]==="wrong")},i:k,o:k,d(o){o&&h(e),r=!1,i()}}}function ke(t,e,n){let{artistName:r,correct:i,index:o}=e;const s=ge();function p(){s("message",{index:o})}return t.$$set=u=>{"artistName"in u&&n(0,r=u.artistName),"correct"in u&&n(1,i=u.correct),"index"in u&&n(3,o=u.index)},[r,i,p,o]}class Ee extends Y{constructor(e){super(),V(this,e,ke,ve,z,{artistName:0,correct:1,index:3})}}const Le="/assets/wikidata.5cf018e2.svg";function $e(t){let e,n;return{c(){e=E("img"),y(e,"class","loading svelte-7mzcxr"),B(e.src,n=Le)||y(e,"src",n),y(e,"alt","Loading")},m(r,i){b(r,e,i)},p:k,i:k,o:k,d(r){r&&h(e)}}}class Ne extends Y{constructor(e){super(),V(this,e,null,$e,z,{})}}class Pe{constructor(e){this.endpoint=e}query(e){const n=this.endpoint+"?query="+encodeURIComponent(e)+"&ts="+Date.now();return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then(i=>i.json())}}const Ae="https://query.wikidata.org/sparql",Ce=`SELECT ?painterLabel ?painting ?paintingLabel ?image WITH {
  SELECT ?painter ?painting ?image WHERE {
    ?painting wdt:P18 ?image .
    ?painting wdt:P31 wd:Q3305213 . # instance of (P31) painting (Q3305213)
    ?painting wdt:P170 ?painter .   # created by (P170)
    ?painter wdt:P106 wd:Q1028181 . # give me all people with occupation (P106) painter (Q1028181)
    ?painter wdt:P135 wd:Q40415 .   # who belonged to the impressionist (Q40415) movement (P135)
    BIND(MD5(CONCAT(str(?painting),str(RAND()))) as ?random)
  }
  ORDER BY ?random
  LIMIT 5
} AS %results WHERE {
  INCLUDE %results.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}`,Ie=new Pe(Ae);function ne(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function qe(t){let e,n;return{c(){e=E("img"),B(e.src,n=t[1])||y(e,"src",n),y(e,"alt","A random painting"),y(e,"class","svelte-1ltrjst")},m(r,i){b(r,e,i)},p(r,i){i&2&&!B(e.src,n=r[1])&&y(e,"src",n)},i:k,o:k,d(r){r&&h(e)}}}function Me(t){let e,n;return e=new Ne({}),{c(){se(e.$$.fragment)},m(r,i){F(e,r,i),n=!0},p:k,i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),n=!1},d(r){K(e,r)}}}function re(t){let e,n,r=t[2].painterLabel.value+"",i,o,s=t[2].paintingLabel.value+"",p,u,a,w;return{c(){e=E("p"),n=E("a"),i=q(r),o=q(` -
      `),p=q(s),a=C(),w=E("p"),w.innerHTML='<button onclick="window.location.reload();"><strong>Play again</strong></button>',y(n,"href",u=t[2].painting.value),y(n,"target","_blank")},m(c,_){b(c,e,_),A(e,n),A(n,i),A(n,o),A(n,p),b(c,a,_),b(c,w,_)},p(c,_){_&4&&r!==(r=c[2].painterLabel.value+"")&&H(i,r),_&4&&s!==(s=c[2].paintingLabel.value+"")&&H(p,s),_&4&&u!==(u=c[2].painting.value)&&y(n,"href",u)},d(c){c&&h(e),c&&h(a),c&&h(w)}}}function ie(t){let e,n,r;return n=new Ee({props:{index:t[10],artistName:t[8].painterLabel.value,correct:t[8].correct}}),n.$on("message",t[5]),{c(){e=E("p"),se(n.$$.fragment)},m(i,o){b(i,e,o),F(n,e,null),r=!0},p(i,o){const s={};o&1&&(s.artistName=i[8].painterLabel.value),o&1&&(s.correct=i[8].correct),n.$set(s)},i(i){r||(L(n.$$.fragment,i),r=!0)},o(i){P(n.$$.fragment,i),r=!1},d(i){i&&h(e),K(n)}}}function Se(t){let e,n,r,i,o,s,p,u,a;const w=[Me,qe],c=[];function _(l,f){return l[4]?0:1}r=_(t),i=c[r]=w[r](t);let m=t[3]&&re(t),v=t[0],d=[];for(let l=0;l<v.length;l+=1)d[l]=ie(ne(t,v,l));const ce=l=>P(d[l],1,1,()=>{d[l]=null});return{c(){e=E("h1"),e.textContent="Who painted this?",n=C(),i.c(),o=C(),m&&m.c(),s=C();for(let l=0;l<d.length;l+=1)d[l].c();p=C(),u=E("p"),u.innerHTML=`Powered by <a href="https://www.wikidata.org/">Wikidata</a>.
  Source code is <a href="https://github.com/dhinus/wikidata-painters/">here</a>.`,y(u,"class","notes svelte-1ltrjst")},m(l,f){b(l,e,f),b(l,n,f),c[r].m(l,f),b(l,o,f),m&&m.m(l,f),b(l,s,f);for(let $=0;$<d.length;$+=1)d[$].m(l,f);b(l,p,f),b(l,u,f),a=!0},p(l,[f]){let $=r;if(r=_(l),r===$?c[r].p(l,f):(ee(),P(c[$],1,1,()=>{c[$]=null}),te(),i=c[r],i?i.p(l,f):(i=c[r]=w[r](l),i.c()),L(i,1),i.m(o.parentNode,o)),l[3]?m?m.p(l,f):(m=re(l),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),f&33){v=l[0];let g;for(g=0;g<v.length;g+=1){const G=ne(l,v,g);d[g]?(d[g].p(G,f),L(d[g],1)):(d[g]=ie(G),d[g].c(),L(d[g],1),d[g].m(p.parentNode,p))}for(ee(),g=v.length;g<d.length;g+=1)ce(g);te()}},i(l){if(!a){L(i);for(let f=0;f<v.length;f+=1)L(d[f]);a=!0}},o(l){P(i),d=d.filter(Boolean);for(let f=0;f<d.length;f+=1)P(d[f]);a=!1},d(l){l&&h(e),l&&h(n),c[r].d(l),l&&h(o),m&&m.d(l),l&&h(s),fe(d,l),l&&h(p),l&&h(u)}}}function De(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function Oe(t,e,n){let r=[],i,o,s,p,u=!0;Ie.query(Ce).then(c=>{n(4,u=!1),n(0,r=c.results.bindings),o=De(0,5),n(2,s=r[o]),n(1,i=s.image.value)});function a(){n(3,p=!0),r.forEach(c=>{c.correct!=="right"&&(c.correct="wrong")})}function w(c){const _=c.detail.index;_===o?(n(0,r[_].correct="right",r),a()):n(0,r[_].correct="wrong",r)}return[r,i,s,p,u,w]}class Qe extends Y{constructor(e){super(),V(this,e,Oe,Se,z,{})}}new Qe({target:document.getElementById("app")});
