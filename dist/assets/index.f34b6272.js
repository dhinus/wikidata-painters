(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function y(){}function ee(t){return t()}function K(){return Object.create(null)}function A(t){t.forEach(ee)}function oe(t){return typeof t=="function"}function T(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let C;function S(t,e){return C||(C=document.createElement("a")),C.href=e,t===C.href}function ie(t){return Object.keys(t).length===0}function se(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function le(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function te(t){return document.createTextNode(t)}function I(){return te(" ")}function ce(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ue(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n){t.classList[n?"add":"remove"](e)}let D;function P(t){D=t}const N=[],V=[],O=[],Y=[],fe=Promise.resolve();let j=!1;function de(){j||(j=!0,fe.then(ne))}function B(t){O.push(t)}const R=new Set;let M=0;function ne(){const t=D;do{for(;M<N.length;){const e=N[M];M++,P(e),pe(e.$$)}for(P(null),N.length=0,M=0;V.length;)V.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];R.has(n)||(R.add(n),n())}O.length=0}while(N.length);for(;Y.length;)Y.pop()();j=!1,R.clear(),P(t)}function pe(t){if(t.fragment!==null){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const Q=new Set;let k;function G(){k={r:0,c:[],p:k}}function J(){k.r||A(k.c),k=k.p}function $(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function L(t,e,n,r){if(t&&t.o){if(Q.has(t))return;Q.add(t),k.c.push(()=>{Q.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function re(t){t&&t.c()}function U(t,e,n,r){const{fragment:o,on_mount:i,on_destroy:l,after_update:f}=t.$$;o&&o.m(e,n),r||B(()=>{const p=i.map(ee).filter(oe);l?l.push(...p):A(p),t.$$.on_mount=[]}),f.forEach(B)}function W(t,e){const n=t.$$;n.fragment!==null&&(A(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _e(t,e){t.$$.dirty[0]===-1&&(N.push(t),de(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,n,r,o,i,l,f=[-1]){const p=D;P(t);const a=t.$$={fragment:null,ctx:null,props:i,update:y,not_equal:o,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:K(),dirty:f,skip_bound:!1,root:e.target||p.$$.root};l&&l(a.root);let _=!1;if(a.ctx=n?n(t,e.props||{},(m,g,...c)=>{const q=c.length?c[0]:g;return a.ctx&&o(a.ctx[m],a.ctx[m]=q)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](q),_&&_e(t,m)),g}):[],a.update(),_=!0,A(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const m=ue(e.target);a.fragment&&a.fragment.l(m),m.forEach(h)}else a.fragment&&a.fragment.c();e.intro&&$(t.$$.fragment),U(t,e.target,e.anchor,e.customElement),ne()}P(p)}class z{$destroy(){W(this,1),this.$destroy=y}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function me(t){let e,n,r,o;return{c(){e=E("button"),n=te(t[0]),w(e,"class","svelte-8d50e6"),x(e,"correct",t[1]),x(e,"reveal",t[2])},m(i,l){b(i,e,l),se(e,n),r||(o=ce(e,"click",t[3]),r=!0)},p(i,[l]){l&1&&ae(n,i[0]),l&2&&x(e,"correct",i[1]),l&4&&x(e,"reveal",i[2])},i:y,o:y,d(i){i&&h(e),r=!1,o()}}}function ge(t,e,n){let{artistName:r,correct:o}=e,i=!1;function l(f){n(2,i=!0)}return t.$$set=f=>{"artistName"in f&&n(0,r=f.artistName),"correct"in f&&n(1,o=f.correct)},[r,o,i,l]}class he extends z{constructor(e){super(),H(this,e,ge,me,T,{artistName:0,correct:1})}}const ye="/assets/wikidata.5cf018e2.svg";function be(t){let e,n;return{c(){e=E("img"),w(e,"class","loading svelte-7mzcxr"),S(e.src,n=ye)||w(e,"src",n),w(e,"alt","Loading")},m(r,o){b(r,e,o)},p:y,i:y,o:y,d(r){r&&h(e)}}}class we extends z{constructor(e){super(),H(this,e,null,be,T,{})}}class $e{constructor(e){this.endpoint=e}query(e){const n=this.endpoint+"?query="+encodeURIComponent(e);return fetch(n,{headers:{Accept:"application/sparql-results+json"}}).then(o=>o.json())}}const ve="https://query.wikidata.org/sparql",ke=`SELECT ?painterLabel ?painting ?paintingLabel ?image (MD5(CONCAT(str(?painting),str(RAND()))) as ?random) WHERE {
  ?painting wdt:P18 ?image .
  ?painting wdt:P31 wd:Q3305213 . # instance of (P31) painting (Q3305213)
  ?painting wdt:P170 ?painter .   # created by (P170)
  ?painter wdt:P106 wd:Q1028181 . # give me all people with occupation (P106) painter (Q1028181)
  ?painter wdt:P135 wd:Q40415 .   # who belonged to the impressionist (Q40415) movement (P135)
  SERVICE wikibase:label {bd:serviceParam wikibase:language "en"}
} ORDER BY ?random
LIMIT 5`,Le=new $e(ve);function X(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function Ee(t){let e,n;return{c(){e=E("img"),S(e.src,n=t[1])||w(e,"src",n),w(e,"alt","Image of a painting"),w(e,"class","svelte-1bmay3b")},m(r,o){b(r,e,o)},p(r,o){o&2&&!S(e.src,n=r[1])&&w(e,"src",n)},i:y,o:y,d(r){r&&h(e)}}}function Ne(t){let e,n;return e=new we({}),{c(){re(e.$$.fragment)},m(r,o){U(e,r,o),n=!0},p:y,i(r){n||($(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){W(e,r)}}}function Z(t){let e,n,r;return n=new he({props:{artistName:t[4].painterLabel.value,correct:t[6]==t[2]}}),{c(){e=E("p"),re(n.$$.fragment)},m(o,i){b(o,e,i),U(n,e,null),r=!0},p(o,i){const l={};i&1&&(l.artistName=o[4].painterLabel.value),i&4&&(l.correct=o[6]==o[2]),n.$set(l)},i(o){r||($(n.$$.fragment,o),r=!0)},o(o){L(n.$$.fragment,o),r=!1},d(o){o&&h(e),W(n)}}}function Pe(t){let e,n,r,o,i,l,f,p;const a=[Ne,Ee],_=[];function m(s,u){return s[3]?0:1}r=m(t),o=_[r]=a[r](t);let g=t[0],c=[];for(let s=0;s<g.length;s+=1)c[s]=Z(X(t,g,s));const q=s=>L(c[s],1,1,()=>{c[s]=null});return{c(){e=E("h1"),e.textContent="Who painted this?",n=I(),o.c(),i=I();for(let s=0;s<c.length;s+=1)c[s].c();l=I(),f=E("p"),f.innerHTML='Powered by <a href="https://www.wikidata.org/">Wikidata</a>.',w(f,"class","notes svelte-1bmay3b")},m(s,u){b(s,e,u),b(s,n,u),_[r].m(s,u),b(s,i,u);for(let v=0;v<c.length;v+=1)c[v].m(s,u);b(s,l,u),b(s,f,u),p=!0},p(s,[u]){let v=r;if(r=m(s),r===v?_[r].p(s,u):(G(),L(_[v],1,1,()=>{_[v]=null}),J(),o=_[r],o?o.p(s,u):(o=_[r]=a[r](s),o.c()),$(o,1),o.m(i.parentNode,i)),u&5){g=s[0];let d;for(d=0;d<g.length;d+=1){const F=X(s,g,d);c[d]?(c[d].p(F,u),$(c[d],1)):(c[d]=Z(F),c[d].c(),$(c[d],1),c[d].m(l.parentNode,l))}for(G(),d=g.length;d<c.length;d+=1)q(d);J()}},i(s){if(!p){$(o);for(let u=0;u<g.length;u+=1)$(c[u]);p=!0}},o(s){L(o),c=c.filter(Boolean);for(let u=0;u<c.length;u+=1)L(c[u]);p=!1},d(s){s&&h(e),s&&h(n),_[r].d(s),s&&h(i),le(c,s),s&&h(l),s&&h(f)}}}function Ae(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function qe(t,e,n){let r=[],o="",i,l=!0;return Le.query(ke).then(f=>{n(3,l=!1),n(0,r=f.results.bindings),n(2,i=Ae(0,5)),n(1,o=r[i].image.value)}),[r,o,i,l]}class Ce extends z{constructor(e){super(),H(this,e,qe,Pe,T,{})}}new Ce({target:document.getElementById("app")});
